<!DOCTYPE html>
<html lang="en">
<head>
	<title>Chat VueJS</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	
	<script src="./src/js/socket.js"></script>

	<link rel="stylesheet" type="text/css" href="./src/css/styles.css">
</head>

<body>
	<div id="app" class="h-c100vh max-w-280 m-a d-f fd-c ai-c jc-c">
		<div id="register" v-if="!user.name">
			<h3>Register</h3>
			<input class="mb-10 d-b ta-c"  type="text" name="name" v-model="registerName" placeholder="Digite seu usuário">
			<button class="btn" type="submit" v-on:click="register">Entrar</button>
		</div>
		
		<div id="users" class="d-b w-100" v-if="user.name && user.room == null">
			<div class="users d-b w-100">
				<div class="user d-f fd-c jc-sb ai-c ac-c w-100">
					<div 
						v-for="u in users" 
						class="col-12 cb c-w mb-20 p-20 br-30 b-b ml-5 mr-5 ta-c w-100"
					>
						<p>{{ u.name }}</p>
					</div>
				</div>
				<div class="user d-b w-100 jc-sb ai-c ac-c" v-if="users.length <= 1">
					<p>Aguardando a entrada de usuários...</p>
				</div>
			</div>
		</div>

		<div id="chat" v-if="user.name && user.room != null">
			<h3>Chat</h3>
			
			<div class="messages mb-20 d-b">
				<p v-for="message in messages" class="mb-10 d-b">
					<strong class="d-b">{{ message.name }}:</strong>
					<span>{{ message.message }}</span>
				</p>
			</div>
			<textarea class="ta-c mb-10 d-b" type="text" name="message" v-model="message" placeholder="Digite sua mensagem"></textarea>
			<button class="btn" type="submit" v-on:click="sendMessage">Enviar</button>
		</div>
	</div>
</body>

<script src="./src/js/vue.js"></script>
<script src="./src/js/script.js"></script>
</html>